<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link href="scripts/style.css" rel="stylesheet" type="text/css">
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<Title>FAQ</Title>
<script language="JavaScript" src="scripts/master.js"></script>
</HEAD>

<BODY topmargin="0" leftmargin="0">

<TABLE  border="0" cellspacing="0" cellpadding="1" width=100%>
<TR bgcolor="#D0D0FF" height="22">
<TD width="6"></TD>
<TD width="16"><A href="http://www.nodasoft.com/products/gc/"><IMG border="0" src="img/home.gif" alt="Домашняя страница продукта"></A></TD>
<TD width="16"><A href="mailto:info@nodasoft.com"><IMG border="0" src="img/mail.gif" alt="Сообщить разработчикам свое мнение о данной статье "></A></TD>
<TD width="10"></TD>
<TD class="Part">Подробнее о возможностях системы</TD>
</TR>
</TABLE>
<TABLE class="Base" width=90%>
<TR>
<TD>

<BR>
<SPAN class="ArticleTitle">Резервное копирование и восстановление базы данных</SPAN><BR>
<BR>
В процессе работы с программой GameClass возникают различные случаи, когда необходимо восстановить предыдущее состояние базы данных. Напомним, что в базе данных MSDE (с которой работает GameClass) хранится ВСЯ информация, а именно <b>Настройки</b> и <b>Статистика</b>. Для выполнения резервного копирования и восстановления базы данных вместе с системой GameClass поставляется утилита GCBackupRestore, которая и выполняет эти две функции.<br>
<br>
<a onclick="doSection(foo)" class="anchorclass" href="#img1">Посмотреть, как выглядит утилита GCBackupRestore</a>
<DIV CLASS="divclass" ID="foo" STYLE="display: none"> 
<br>
<img src="img/backuprecovery.gif" class="Plus20" alt="backup restore">
<br>
</DIV>
<br>
<br>
Случаи, в которых рекомендуется применять функцию "Резервное копирование базы":<br>
<ul>
<li>Периодически, например раз в неделю "на всякий случай"<br>
<li>Перед изменениями настроек, которые могут привести к неработоспособности программы.<br>
<li>Перед переинсталляцией операционной системы или GameClass.<br>
<li>Перед переносом базы на другой компьютер. (С помощью утилиты можно сделать и это).<br>
<li>Перед обновлением системы GameClass на новую версию.<br>
<li>По расписанию (начиная с версии 3.75). <a onclick="doSection(foo1)" class="anchorclass" href="#img1">Подробнее</a>
<DIV CLASS="divclass" ID="foo1" STYLE="display: none"><br>
<table width="90%" cellpadding=10 cellspacing=0><tr><td bgcolor="#EEEEEE">
<b>Начиная с GameClass 3.75</b> Вы можете выполнять резервное копирование базы <b>АВТОМАТИЧЕСКИ</b>. Для этого нужно создать задачу в "Control Panel/Scheduled Tasks". Создайте задачу, выполняющуюся ежедневно, например, в 8:30 утра. Задача должна запускать утилиту GCBackupRestore.exe с единственным параметром - путем, куда складывать результаты резервного копирования. Пример запуска утилиты - "C:\Program Files\GameClass\GCBackupRestore.exe C:\Backups". Третим параметром можно указать имя SQL-сервера, где будет выполняться резервное копирование, если его не указывать, то резервное копирование будет выполняться на localhost.<br>
<br>
GCBackupRestore.exe [path_for_backups] [sql-server(по умолчанию=localhost)]<br>
<br>
Утилита создает LOG-файл GCBackupRestore.log. Если резервное копирование не выполняется, то просмотр log-файла поможет найти причину.
</td></tr></table><br></DIV>
<!--li>При завершении смены (начиная с версии 3.75). <a onclick="doSection(foo2)" class="anchorclass" href="#img1">Подробнее</a>
<DIV CLASS="divclass" ID="foo2" STYLE="display: none"><br>
<table width="90%" cellpadding=10 cellspacing=0><tr><td bgcolor="#EEEEEE">
Чтобы активировать резервное копирование при завершении смены, нужно зайти в настройки программы в раздел "автоматизация" для серверной части и активировать реакцию на событие "Завершение смены".
</td></tr></table></DIV>
<br-->
</ul>
Случаи, в которых рекомендуется применять функцию "Восстановление базы":<br>
<ul>
<li>Если по какой-то причине необходимо восстановить предыдущее состояние базы.<br>
<li>После изменений настроек, которые привели к неработоспособности программы.<br>
<li>После полной переинсталляции программы.<br>
<li>После переноса базы на другой компьютер.<br>
</ul>
Важно:<br>
1. <font color=red>Функция восстановления базы работает только в зарегистрированной версии.</font> Т.е. на компьютере где вы запускаете GCBackupRestore ранее должен быть установлен и зарегистрирован GameClass Server (по крайней мере один сервер, без базы данных).<br>
2. База не восстанавливается на пустом MSDE-сервере. В начале необходимо создать пустую базу данных GameClass нажав на соответствующую кнопку.<br>
3. Заранее выделите папку, в которую вы будете складывать резервные файлы с базой данных. Пользователь, выполняющий резервное копирование должен иметь права записи на эту папку. Храните файлы в защищенном месте, имея файл с базой, её можно восстановить на другом компьютере и получить доступ к просмотру ВАШЕЙ финансовой статистики.<br>
4. Формат имени файла с резервной базой данных - GCBackup-YYYYMMDD-HHMMSS.gcb, Где YYYY-год, MM-месяц, DD-число, HH,MM и SS - соответственно часы, минуты и секунды, когда было выполнено резервное копирование. Таким образом, при восстановлении базы выбрать нужный файл не составляет труда.<br>
5. При восстановлении базы необходимо, чтобы от нее отключились все операторы (закрыли программу GameClass).<br>
6. При восстановлении базы утилита запросит пароль менеджера. Только менеджер может восстанавливать базу данных.<br>
7. Если вы восстанавливаете базу данных не на локальном MSDE-сервере, то должны вручную задать правильный путь к файлу с базой.<br>
8. Если вы восстанавливаете базу поверх существующей, то существующая база будет удалена а выбранная - восстановлена.<br>
9. Если при восстановлении базы обнаружится, что изменился список пользователей (возможны и другие причины, например, русские имена пользователей), то для таких пользователей пароль будет сброшен. Утилита проинформирует о таких случаях. Пароли надо будет установить заново вручную.<br>
<br>
<font color=red>Помните, что восстановление базы данных возвращает все настройки и статистику к тому моменту, когда было сделано резервное копирование базы. Т.е. изменения настроек и последняя статистика БУДУТ ПОТЕРЯНЫ</font>.
<P align="center">
<BR>
<BR>
<SPAN class="copyright"><A href="copyrights.htm">&copy 2000-2007 NodaSoft. All Rights Reserved.</A>
</SPAN>
</P>
</TD>
</TR>
</TABLE>
</BODY>
</HTML>
